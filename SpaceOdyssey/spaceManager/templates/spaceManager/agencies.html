{% extends 'spaceManager/base.html' %}

{% block content %}
{% load mathfilters %}
<title>Space Manager - Agencies</title>

<div class="container">

    <div class="d-grid gap-2 my-3">
        <a class="btn btn-primary" type="button" href="{% url 'crear_agencia' %}">
            <i class="fas fa-plus me-2"></i>Nova agencia
        </a>
    </div>

    {% if pagina.object_list %}

        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Nom</th>
                        <th style="text-align: right">Accions</th>
                    </tr>
                </thead>
                <tbody>

                    {% for agencia in pagina.object_list %}
                    <tr>
                        <th>{{ forloop.counter|add:pagina.start_index|sub:1 }} </th>
                        <td>{{ agencia.nom }}</td>
                        <td style="text-align: right">
                            <a class="btn btn-primary" href="{% url 'modifica_agencia' agencia.id %}">
                                <i class="fas fa-edit"></i>
                            </a>
                            <a class="btn btn-danger" href="{% url 'esborrar_agencia' agencia.id %}">
                                <i class="fas fa-trash"></i>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}

                </tbody>
            </table>
        </div>


        <!-- Paginator -->
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">

                <!-- Anterior -->
                {% if pagina.has_previous %}
                    <li class="page-item"><a class="page-link" href="?page={{ pagina.previous_page_number }}">Anterior</a></li>
                {% else %}
                    <li class="page-item disabled"><a class="page-link">Anterior</a></li>
                {% endif %}

                <!-- Numero de pagina -->
                {% if pagina.has_previous %}
                    <li class="page-item"><a class="page-link" href="?page={{ pagina.previous_page_number }}">{{ pagina.previous_page_number }}</a></li>
                {% endif %}
                <li class="page-item active"><a class="page-link" href="#">{{ pagina.number }}</a></li>
                {% if pagina.has_next %}
                    <li class="page-item"><a class="page-link" href="?page={{ pagina.next_page_number }}">{{ pagina.next_page_number }}</a></li>
                {% endif %}

                <!-- Seguent -->
                {% if pagina.has_next %}
                    <li class="page-item"><a class="page-link" href="?page={{ pagina.next_page_number }}">Seguent</a></li>
                {% else %}
                    <li class="page-item disabled"><a class="page-link">Seguent</a></li>
                {% endif %}

            </ul>
        </nav>

    {% else %}
        <p>No hi han agencies.</p>
    {% endif %}

</div>

{% endblock %}
